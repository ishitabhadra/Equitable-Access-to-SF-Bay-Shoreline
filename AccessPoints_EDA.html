<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jeffrey Ding">

<title>EDA: SF Bay Access Points</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="AccessPoints_EDA_files/libs/clipboard/clipboard.min.js"></script>
<script src="AccessPoints_EDA_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="AccessPoints_EDA_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="AccessPoints_EDA_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="AccessPoints_EDA_files/libs/quarto-html/popper.min.js"></script>
<script src="AccessPoints_EDA_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="AccessPoints_EDA_files/libs/quarto-html/anchor.min.js"></script>
<link href="AccessPoints_EDA_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="AccessPoints_EDA_files/libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="AccessPoints_EDA_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="AccessPoints_EDA_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="AccessPoints_EDA_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="AccessPoints_EDA_files/libs/htmltools-fill-0.5.9/fill.css" rel="stylesheet">
<script src="AccessPoints_EDA_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="AccessPoints_EDA_files/libs/plotly-binding-4.12.0/plotly.js"></script>
<script src="AccessPoints_EDA_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="AccessPoints_EDA_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="AccessPoints_EDA_files/libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="AccessPoints_EDA_files/libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>
<link href="AccessPoints_EDA_files/libs/plotly-htmlwidgets-css-2.25.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="AccessPoints_EDA_files/libs/plotly-main-2.25.2/plotly-latest.min.js"></script>


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">EDA: SF Bay Access Points</h1>
</div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jeffrey Ding </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.1     ✔ stringr   1.5.1
✔ ggplot2   4.0.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'plotly'

The following object is masked from 'package:ggplot2':

    last_plot

The following object is masked from 'package:stats':

    filter

The following object is masked from 'package:graphics':

    layout</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmlwidgets)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<section id="data-preview" class="level1">
<h1>Data Preview</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>access_raw <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Shoreline-Access-Pts_v2-1-attribute-table.csv"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(access_raw)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 5,301
Columns: 61
$ Access_Point_ID                                      &lt;int&gt; 1477, 1477, 1538,…
$ Access_Type                                          &lt;chr&gt; "Marsh", "Marsh",…
$ Tidal_Wetland_Access                                 &lt;chr&gt; "Potentially", "P…
$ Service_Type                                         &lt;chr&gt; "Bike", "Drive", …
$ County_Name                                          &lt;chr&gt; "Napa", "Napa", "…
$ Subembayment_Name                                    &lt;chr&gt; "San Pablo Bay", …
$ OLU_Name                                             &lt;chr&gt; "Napa - Sonoma", …
$ SFBRA_Project_Name                                   &lt;chr&gt; "", "", "", "", "…
$ SFBRA_Project_Status                                 &lt;chr&gt; "", "", "", "", "…
$ SFBRA_Project_Site_Name                              &lt;chr&gt; "", "", "", "", "…
$ SFBRA_Zone                                           &lt;chr&gt; "North Bay", "Nor…
$ Shoreline_Park_Name                                  &lt;chr&gt; "", "", "", "", "…
$ CPAD_ID                                              &lt;int&gt; NA, NA, NA, NA, N…
$ TPL_ID                                               &lt;chr&gt; "", "", "", "", "…
$ BayTrail_SegID                                       &lt;dbl&gt; NA, NA, NA, NA, N…
$ WaterTrail_ID                                        &lt;chr&gt; "", "", "", "", "…
$ mean_Trail_Quality_Score                             &lt;dbl&gt; 2.18577982, 2.185…
$ Public_Transit_Stops                                 &lt;int&gt; 0, 0, 0, 0, 0, 0,…
$ sum_n_routes                                         &lt;dbl&gt; 0, 0, 0, 0, 0, 0,…
$ sum_n_arrivals                                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0,…
$ mean_n_arrivals                                      &lt;dbl&gt; NA, NA, NA, NA, N…
$ sum_n_hours_in_service                               &lt;dbl&gt; 0, 0, 0, 0, 0, 0,…
$ mean_n_hours_in_service                              &lt;dbl&gt; NA, NA, NA, NA, N…
$ Workgroup_Addition                                   &lt;chr&gt; "", "", "", "", "…
$ SUM_Estimated_Total_Population                       &lt;dbl&gt; 856.71881, 29373.…
$ SUM_Estimated_Low_Income_Households                  &lt;dbl&gt; 6.780970, 2425.05…
$ SUM_Estimated_People_of_Color                        &lt;dbl&gt; 175.05609, 14613.…
$ SUM_Estimated_Total_Households                       &lt;dbl&gt; 77.71941, 10287.1…
$ SUM_Estimated_Average_Household_Size                 &lt;dbl&gt; 1.98479407, 58.44…
$ SUM_Estimated_Renter_Households                      &lt;dbl&gt; 5.174951, 5011.17…
$ SUM_Estimated_Children_Under_5                       &lt;dbl&gt; 4.9965042, 1574.2…
$ SUM_Estimated_Households_With_No_Vehicle             &lt;dbl&gt; 1.070679, 493.481…
$ SUM_Estimated_Households_With_Disability             &lt;dbl&gt; 11.955921, 2611.5…
$ SUM_Estimated_Single_Parent_Households               &lt;dbl&gt; 8.2085427, 1135.9…
$ SUM_Estimated_Seniors_Living_Alone                   &lt;dbl&gt; 0.7137863, 1157.7…
$ SUM_Estimated_Population_With_No_High_School_Diploma &lt;dbl&gt; 24.268735, 3318.3…
$ SUM_Estimated_Mortgage_Housing_Cost_Burden           &lt;dbl&gt; 5.8887371, 613.40…
$ SUM_Estimated_Limited_English_Proficiency_Households &lt;dbl&gt; 1.070679, 689.233…
$ SUM_Estimated_Below_200_Percent_Poverty              &lt;dbl&gt; 37.652228, 7521.9…
$ SUM_Estimated_Rent_Housing_Cost_Burden               &lt;dbl&gt; 0.000000, 1155.27…
$ SUM_Estimated_Non_Citizens                           &lt;dbl&gt; 48.359023, 10654.…
$ SUM_Estimated_Households_Below_50_Percent_Median_AMI &lt;dbl&gt; 6.780970, 2425.05…
$ SUM_Estimated_Foreign_Born                           &lt;dbl&gt; 243.11765, 16502.…
$ SUM_Estimated_Spanish_LEP                            &lt;dbl&gt; 101.214168, 10660…
$ SUM_Estimated_Chinese_LEP                            &lt;dbl&gt; 20.2792221, 164.0…
$ SUM_Estimated_Vietnamese_LEP                         &lt;dbl&gt; 4.28271791, 6.536…
$ SUM_Estimated_Tagalog_LEP                            &lt;dbl&gt; 14.454173, 116.73…
$ SUM_Estimated_Latino_Population                      &lt;dbl&gt; 52.82019, 12598.5…
$ SUM_Estimated_Black_Population                       &lt;dbl&gt; 2.319806e+00, 1.9…
$ SUM_Estimated_American_Indian_Population             &lt;dbl&gt; 4.818058, 248.034…
$ SUM_Estimated_Asian_Population                       &lt;dbl&gt; 101.179211, 978.1…
$ SUM_Estimated_Pacific_Islander_Population            &lt;dbl&gt; 0.00000, 45.23836…
$ SUM_Estimated_Other_Race_Population                  &lt;dbl&gt; 29.443686, 3846.5…
$ SUM_Estimated_Two_Or_More_Races_Population           &lt;dbl&gt; 25.160968, 3127.4…
$ SUM_Estimated_Population_Under_10                    &lt;dbl&gt; 28.551453, 3418.2…
$ SUM_Estimated_Population_Under_18                    &lt;dbl&gt; 58.35203, 6357.61…
$ SUM_Low_Vuln_Households                              &lt;dbl&gt; 0.00000, 3553.004…
$ SUM_Moderate_Vuln_Households                         &lt;dbl&gt; 43.71941, 2426.34…
$ SUM_High_Vuln_Households                             &lt;dbl&gt; 0.00000, 3229.590…
$ SUM_Highest_Vuln_Households                          &lt;dbl&gt; 0.000, 1044.253, …
$ SFBRA_Site                                           &lt;chr&gt; "No", "No", "No",…</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Number of unique access points:"</span>, <span class="fu">length</span>(<span class="fu">unique</span>(access_raw<span class="sc">$</span>Access_Point_ID)))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Number of unique access points: 2048"</code></pre>
</div>
</div>
<section id="accessibility" class="level2">
<h2 class="anchored" data-anchor-id="accessibility">Accessibility</h2>
<section id="access-points-and-transportation-modes-serviced" class="level3">
<h3 class="anchored" data-anchor-id="access-points-and-transportation-modes-serviced">1. Access Points and Transportation Modes Serviced</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set granularity to one row per access point</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>transit <span class="ot">&lt;-</span> access_raw <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Access_Point_ID) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">reframe</span>(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">Access_Type =</span> <span class="fu">first</span>(Access_Type),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">County_Name =</span> <span class="fu">first</span>(County_Name),</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">Subembayment_Name =</span> <span class="fu">first</span>(Subembayment_Name),</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">OLU_Name =</span> <span class="fu">first</span>(OLU_Name),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Public transit information</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">Public_Transit_Stops =</span> <span class="fu">first</span>(Public_Transit_Stops),</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">sum_n_routes =</span> <span class="fu">max</span>(sum_n_routes),</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Binarize walk/bike/drive service availability</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">n_service_types =</span> <span class="fu">n_distinct</span>(Service_Type),</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">Walk =</span> <span class="fu">any</span>(Service_Type <span class="sc">==</span> <span class="st">"Walk"</span>),</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">Bike =</span> <span class="fu">any</span>(Service_Type <span class="sc">==</span> <span class="st">"Bike"</span>),</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">Drive =</span> <span class="fu">any</span>(Service_Type <span class="sc">==</span> <span class="st">"Drive"</span>),</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Demographic information for access point's service area</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">Estimated_Total_Population =</span> <span class="fu">first</span>(SUM_Estimated_Total_Population),</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">Estimated_People_of_Color =</span> <span class="fu">first</span>(SUM_Estimated_People_of_Color),</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">Estimated_Total_Households =</span> <span class="fu">first</span>(SUM_Estimated_Total_Households),</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">Estimated_Average_Household_Size =</span> <span class="fu">first</span>(SUM_Estimated_Average_Household_Size),</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">Estimated_Low_Income_Households =</span> <span class="fu">first</span>(SUM_Estimated_Low_Income_Households),</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">Estimated_No_Vehicle_Households =</span> <span class="fu">first</span>(SUM_Estimated_Households_With_No_Vehicle)</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(transit)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,048
Columns: 17
$ Access_Point_ID                  &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12…
$ Access_Type                      &lt;chr&gt; "Marsh", "Shoreline Park", "Shoreline…
$ County_Name                      &lt;chr&gt; "San Francisco", "Contra Costa", "Con…
$ Subembayment_Name                &lt;chr&gt; "Central Bay", "San Pablo Bay", "San …
$ OLU_Name                         &lt;chr&gt; "Mission - Islais", "Pinole", "Pinole…
$ Public_Transit_Stops             &lt;int&gt; 4, 0, 2, 22, 64, 0, 0, 60, 2, 42, 12,…
$ sum_n_routes                     &lt;dbl&gt; 4, 0, 4, 22, 106, 0, 0, 88, 2, 70, 31…
$ n_service_types                  &lt;int&gt; 2, 2, 3, 3, 3, 1, 3, 3, 3, 3, 3, 3, 3…
$ Walk                             &lt;lgl&gt; FALSE, FALSE, TRUE, TRUE, TRUE, FALSE…
$ Bike                             &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, …
$ Drive                            &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, T…
$ Estimated_Total_Population       &lt;dbl&gt; 85900.67675, 16305.91975, 1322.54901,…
$ Estimated_People_of_Color        &lt;dbl&gt; 63200.99755, 14175.69783, 1007.79507,…
$ Estimated_Total_Households       &lt;dbl&gt; 29925.97943, 5217.92039, 433.54155, 5…
$ Estimated_Average_Household_Size &lt;dbl&gt; 172.6602979, 28.3499626, 2.5572838, 3…
$ Estimated_Low_Income_Households  &lt;dbl&gt; 9066.676433, 1416.206890, 87.016453, …
$ Estimated_No_Vehicle_Households  &lt;dbl&gt; 6096.8166882, 379.9145699, 7.0176795,…</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Total counts of access points in each county</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>total_counts <span class="ot">&lt;-</span> transit <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Total =</span> Walk <span class="sc">|</span> Bike <span class="sc">|</span> Drive) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(County_Name) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">reframe</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">Mode =</span> <span class="st">"Total"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> <span class="fu">sum</span>(Total, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct county order by total access points</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>county_order <span class="ot">&lt;-</span> total_counts <span class="sc">%&gt;%</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(n) <span class="sc">%&gt;%</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(County_Name)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder total_counts</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>total_counts <span class="ot">&lt;-</span> total_counts <span class="sc">%&gt;%</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">County_Name =</span> <span class="fu">factor</span>(County_Name, <span class="at">levels =</span> county_order))</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Counts of access points in each county by transportation modes serviced</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>mode_counts <span class="ot">&lt;-</span> transit <span class="sc">%&gt;%</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="fu">c</span>(Walk, Bike, Drive), <span class="at">names_to =</span> <span class="st">"Mode"</span>, <span class="at">values_to =</span> <span class="st">"Available"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">County_Name =</span> <span class="fu">factor</span>(County_Name, <span class="at">levels =</span> county_order),</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">Mode =</span> <span class="fu">factor</span>(Mode, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Total"</span>, <span class="st">"Drive"</span>, <span class="st">"Bike"</span>, <span class="st">"Walk"</span>))</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(County_Name, Mode) <span class="sc">%&gt;%</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">reframe</span>(<span class="at">n =</span> <span class="fu">sum</span>(Available, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge mode_counts and total_counts + order mode values for plotting</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>transport_modes <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(mode_counts, total_counts) <span class="sc">%&gt;%</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Mode =</span> <span class="fu">factor</span>(Mode, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Total"</span>, <span class="st">"Drive"</span>, <span class="st">"Bike"</span>, <span class="st">"Walk"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(County_Name, Mode)</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(transport_modes, <span class="dv">12</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   County_Name   Mode      n
   &lt;fct&gt;         &lt;fct&gt; &lt;int&gt;
 1 Napa          Total    83
 2 Napa          Drive    83
 3 Napa          Bike     81
 4 Napa          Walk     57
 5 Santa Clara   Total   100
 6 Santa Clara   Drive   100
 7 Santa Clara   Bike    100
 8 Santa Clara   Walk     90
 9 San Francisco Total   124
10 San Francisco Drive   124
11 San Francisco Bike    124
12 San Francisco Walk    111</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct plot</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>transport_modes_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Total access points by county (underlaid)</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> total_counts,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> County_Name, <span class="at">y =</span> n,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">"County: "</span>, County_Name,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">"&lt;br&gt;Total Access Points: "</span>, n</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>            )),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.35</span>, <span class="at">width =</span> <span class="fl">0.85</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Access points by county + transport mode (overlaid)</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> mode_counts, </span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> County_Name, <span class="at">y =</span> n, <span class="at">fill =</span> Mode,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>                <span class="st">"County: "</span>, County_Name,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>                <span class="st">"&lt;br&gt;Transport Mode: "</span>, Mode,</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>                <span class="st">"&lt;br&gt;Access Points: "</span>, n</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>            )),</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.8</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">Walk =</span> <span class="st">"lightgreen"</span>,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">Bike =</span> <span class="st">"deepskyblue"</span>,</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">Drive =</span> <span class="st">"salmon"</span>,</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">Total =</span> <span class="st">"grey"</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Bay Access Points by County and Supported Transportation Modes"</span>,</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"County"</span>, </span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Number of access points"</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_col(data = total_counts, aes(x = County_Name, y = n, text =
paste0("County: ", : Ignoring unknown aesthetics: text</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_col(data = mode_counts, aes(x = County_Name, y = n, fill =
Mode, : Ignoring unknown aesthetics: text</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(transport_modes_plot, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">config</span>(<span class="at">responsive =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-8abcd492b7a088025a81" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-8abcd492b7a088025a81">{"x":{"data":[{"orientation":"h","width":[0.85000000000000053,0.84999999999999964,0.85000000000000142,0.85000000000000009,0.84999999999999964,0.84999999999999964,0.84999999999999987,0.84999999999999964,0.84999999999999964],"base":[0,0,0,0,0,0,0,0,0],"x":[385,229,387,83,124,238,100,378,124],"y":[8,5,9,1,3,6,2,7,4],"text":["County: Alameda<br>Total Access Points: 385","County: Contra Costa<br>Total Access Points: 229","County: Marin<br>Total Access Points: 387","County: Napa<br>Total Access Points: 83","County: San Francisco<br>Total Access Points: 124","County: San Mateo<br>Total Access Points: 238","County: Santa Clara<br>Total Access Points: 100","County: Solano<br>Total Access Points: 378","County: Sonoma<br>Total Access Points: 124"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,0.35)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.26666666666666661,0.26666666666666661,0.26666666666666661,0.26666666666666661,0.2666666666666675,0.2666666666666675,0.2666666666666675,0.2666666666666675,0.26666666666666572],"base":[0,0,0,0,0,0,0,0,0],"x":[83,100,124,120,224,238,370,385,387],"y":[0.73333333333333339,1.7333333333333334,2.7333333333333334,3.7333333333333334,4.7333333333333334,5.7333333333333334,6.7333333333333334,7.7333333333333334,8.7333333333333325],"text":["County: Napa<br>Transport Mode: Drive<br>Access Points: 83","County: Santa Clara<br>Transport Mode: Drive<br>Access Points: 100","County: San Francisco<br>Transport Mode: Drive<br>Access Points: 124","County: Sonoma<br>Transport Mode: Drive<br>Access Points: 120","County: Contra Costa<br>Transport Mode: Drive<br>Access Points: 224","County: San Mateo<br>Transport Mode: Drive<br>Access Points: 238","County: Solano<br>Transport Mode: Drive<br>Access Points: 370","County: Alameda<br>Transport Mode: Drive<br>Access Points: 385","County: Marin<br>Transport Mode: Drive<br>Access Points: 387"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(250,128,114,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"name":"Drive","legendgroup":"Drive","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.26666666666666661,0.26666666666666661,0.26666666666666661,0.26666666666666705,0.2666666666666675,0.2666666666666675,0.2666666666666675,0.26666666666666661,0.26666666666666572],"base":[0,0,0,0,0,0,0,0,0],"x":[81,100,124,55,223,238,289,383,381],"y":[1,2,3,4,5,6,7,8,9],"text":["County: Napa<br>Transport Mode: Bike<br>Access Points: 81","County: Santa Clara<br>Transport Mode: Bike<br>Access Points: 100","County: San Francisco<br>Transport Mode: Bike<br>Access Points: 124","County: Sonoma<br>Transport Mode: Bike<br>Access Points: 55","County: Contra Costa<br>Transport Mode: Bike<br>Access Points: 223","County: San Mateo<br>Transport Mode: Bike<br>Access Points: 238","County: Solano<br>Transport Mode: Bike<br>Access Points: 289","County: Alameda<br>Transport Mode: Bike<br>Access Points: 383","County: Marin<br>Transport Mode: Bike<br>Access Points: 381"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,255,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"name":"Bike","legendgroup":"Bike","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.26666666666666661,0.26666666666666661,0.26666666666666661,0.2666666666666675,0.2666666666666675,0.2666666666666675,0.2666666666666675,0.26666666666666572,0.26666666666666572],"base":[0,0,0,0,0,0,0,0,0],"x":[57,90,111,17,141,191,139,319,331],"y":[1.2666666666666666,2.2666666666666666,3.2666666666666666,4.2666666666666666,5.2666666666666666,6.2666666666666666,7.2666666666666666,8.2666666666666675,9.2666666666666675],"text":["County: Napa<br>Transport Mode: Walk<br>Access Points: 57","County: Santa Clara<br>Transport Mode: Walk<br>Access Points: 90","County: San Francisco<br>Transport Mode: Walk<br>Access Points: 111","County: Sonoma<br>Transport Mode: Walk<br>Access Points: 17","County: Contra Costa<br>Transport Mode: Walk<br>Access Points: 141","County: San Mateo<br>Transport Mode: Walk<br>Access Points: 191","County: Solano<br>Transport Mode: Walk<br>Access Points: 139","County: Alameda<br>Transport Mode: Walk<br>Access Points: 319","County: Marin<br>Transport Mode: Walk<br>Access Points: 331"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(144,238,144,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"name":"Walk","legendgroup":"Walk","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":37.260273972602747,"l":101.55251141552515},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Bay Access Points by County and Supported Transportation Modes","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-19.350000000000001,406.35000000000002],"tickmode":"array","ticktext":["0","100","200","300","400"],"tickvals":[0,100,199.99999999999997,300,400],"categoryorder":"array","categoryarray":["0","100","200","300","400"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Number of access points","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,9.5999999999999996],"tickmode":"array","ticktext":["Napa","Santa Clara","San Francisco","Sonoma","Contra Costa","San Mateo","Solano","Alameda","Marin"],"tickvals":[1,2,3,4,5,6,6.9999999999999991,8,9],"categoryorder":"array","categoryarray":["Napa","Santa Clara","San Francisco","Sonoma","Contra Costa","San Mateo","Solano","Alameda","Marin"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"County","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Mode","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"responsive":true},"source":"A","attrs":{"8ff7543309bf":{"x":{},"y":{},"text":{},"type":"bar"},"8ff762c505c8":{"x":{},"y":{},"fill":{},"text":{}}},"cur_data":"8ff7543309bf","visdat":{"8ff7543309bf":["function (y) ","x"],"8ff762c505c8":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="access-points-and-public-transit-service" class="level3">
<h3 class="anchored" data-anchor-id="access-points-and-public-transit-service">2. Access Points and Public Transit Service</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>transit <span class="ot">&lt;-</span> transit <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">County_OLU =</span> <span class="fu">paste</span>(County_Name, <span class="st">":"</span>, OLU_Name))</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>county_olu_order <span class="ot">&lt;-</span> transit <span class="sc">%&gt;%</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(County_OLU)) <span class="sc">%&gt;%</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(County_OLU) <span class="sc">%&gt;%</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unique</span>()</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>transit <span class="ot">&lt;-</span> transit <span class="sc">%&gt;%</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">County_OLU =</span> <span class="fu">factor</span>(County_OLU, <span class="at">levels =</span> county_olu_order))</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset without select outlier OLUs</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>transit_sub_olu <span class="ot">&lt;-</span> transit <span class="sc">%&gt;%</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>((OLU_Name <span class="sc">!=</span> <span class="st">"Mission - Islais"</span>) <span class="sc">&amp;</span> (OLU_Name <span class="sc">!=</span> <span class="st">"Golden Gate"</span>)) </span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset with select counties</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>transit_sub_county <span class="ot">&lt;-</span> transit <span class="sc">%&gt;%</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(County_Name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Alameda"</span>, <span class="st">"Contra Costa"</span>, <span class="st">"Marin"</span>, <span class="st">"San Mateo"</span>))</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(transit, <span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 18
   Access_Point_ID Access_Type    County_Name   Subembayment_Name OLU_Name      
             &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;         &lt;chr&gt;             &lt;chr&gt;         
 1               1 Marsh          San Francisco Central Bay       Mission - Isl…
 2               2 Shoreline Park Contra Costa  San Pablo Bay     Pinole        
 3               3 Shoreline Park Contra Costa  San Pablo Bay     Pinole        
 4               4 Shoreline Park San Francisco Central Bay       Yosemite - Vi…
 5               5 Shoreline Park San Francisco Central Bay       Mission - Isl…
 6               6 Water Trail    Sonoma        San Pablo Bay     Petaluma      
 7               7 Marsh          San Mateo     South Bay         Belmont - Red…
 8               8 Shoreline Park San Francisco Central Bay       Mission - Isl…
 9               9 Bay Trail      Alameda       Central Bay       San Leandro   
10              10 Shoreline Park San Francisco Central Bay       Mission - Isl…
# ℹ 13 more variables: Public_Transit_Stops &lt;int&gt;, sum_n_routes &lt;dbl&gt;,
#   n_service_types &lt;int&gt;, Walk &lt;lgl&gt;, Bike &lt;lgl&gt;, Drive &lt;lgl&gt;,
#   Estimated_Total_Population &lt;dbl&gt;, Estimated_People_of_Color &lt;dbl&gt;,
#   Estimated_Total_Households &lt;dbl&gt;, Estimated_Average_Household_Size &lt;dbl&gt;,
#   Estimated_Low_Income_Households &lt;dbl&gt;,
#   Estimated_No_Vehicle_Households &lt;dbl&gt;, County_OLU &lt;fct&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct reusable plot config</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>transit_access_config1 <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>(),</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Alameda"</span> <span class="ot">=</span> <span class="st">"#E69F00"</span>,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Contra Costa"</span> <span class="ot">=</span> <span class="st">"#56B4E9"</span>,</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Marin"</span> <span class="ot">=</span> <span class="st">"#009E73"</span>,</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Napa"</span> <span class="ot">=</span> <span class="st">"#F0E442"</span>,</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">"San Francisco"</span> <span class="ot">=</span> <span class="st">"#0072B2"</span>,</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">"San Mateo"</span> <span class="ot">=</span> <span class="st">"#D55E00"</span>,</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Santa Clara"</span> <span class="ot">=</span> <span class="st">"#CC79A7"</span>,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Solano"</span> <span class="ot">=</span> <span class="st">"#90EE90"</span>,</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Sonoma"</span> <span class="ot">=</span> <span class="st">"#B0E2FF"</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">sub</span>(<span class="st">"^.*</span><span class="sc">\\</span><span class="st">s:</span><span class="sc">\\</span><span class="st">s"</span>, <span class="st">""</span>, x)),</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Public Transit Stops Near Bay Access Points by OLU"</span>,</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Operational Landscape Unit (OLU)"</span>,</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Number of nearby public transit stops"</span>,</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"County"</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct plot for full transit dataframe</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>transit_access_plot1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> transit,</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> County_OLU, <span class="at">y =</span> Public_Transit_Stops,</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> County_Name,</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>            <span class="st">"County: "</span>, County_Name,</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;br&gt;OLU: "</span>, OLU_Name</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>    transit_access_config1</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(transit_access_plot1) <span class="sc">%&gt;%</span></span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">responsive =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-66e31591d084241fbd2a" style="width:100%;height:1083px;"></div>
<script type="application/json" data-for="htmlwidget-66e31591d084241fbd2a">{"x":{"data":[{"x":[5,43,16,0,0,0,13,8,7,2,9,24,13,13,8,6,3,12,0,17,3,21,0,0,48,6,0,11,1,4,10,8,0,1,0,0,6,0,9,4,0,0,18,21,0,21,1,0,2,0,20,20,2,0,2,0,2,38,2,6,2,1,17,19,0,22,20,16,13,23,0,42,16,18,0,5,0,21,0,19,39,0,3,0,13,10,8,6,27,3,7,11,8,32,0,10,1,0,5,30,9,13,24,20,2,18,10,16,7,4,19,6,4,10,5,5,12,6,2,50,0,9,6,29,2,10,13,25,28,3,0,10,7,12,4,13,4,12,1,2,0,32,0,19,16,37,0,10,11,0,8,4,13,3,6,44,12,7,13,8,16,7,28,8,11,2,14,17,8,12,11,12,10,11,12,11,0,9,17,8,8,1,4,6,12,48,31,22,14,0,14,0,4,14,4,6,12,5,0,4,9,0,0,5,3,1,0,0,14,18,7,7,12,35,2,0,39,7,3,2,2,2,5,0,0,1,4,0,7,0,12,5,29,0,5,6,0,2,1,5,14,2,6,0,2,5,8,8,0,12,2,2,0,1,0,2,10,0,10,0,2,1,6,0,5,10,1,2,9,12,0,0,0,0,9,0,1,4,0,1,0,0,15,4,0,4,0,0,6,3,9,0,0,0,5,13,8,0,11,0,0,0,7,6,5,0,2,7,0,0,0,0,4,5,0,8,2,0,4,3,0,0,0,18,13,0,2,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,2,2,0,0,0,0,15,4,0,3,0,0,0,0,9,0,0,0,0,12,0,0,19,0,2,0,14,0,11,0,2,3,5,7,0,0,2,1,0,2,3,1,7],"y":[36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,34,34,34,34,34,34,34,34,34,34,34,34,34],"hoverinfo":"x","type":"box","fillcolor":"rgba(230,159,0,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Alameda","legendgroup":"Alameda","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[1,12,0,0,2,0,0,4,1,1,2,1,4,8,3,4,0,6,10,0,2,1,0,2,0,3,0,0,0,2,9,9,0,5,5,0,0,0,6,6,4,10,0,0,0,0,0,8,0,4,0,12,0,6,4,0,4,6,0,4,6,0,10,4,11,2,0,13,0,0,0,0,0,0,4,8,0,8,14,0,6,7,11,1,8,10,2,0,13,13,0,6,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,1,0,0,0,6,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,0,0,0,0,0,2,0,0,5,2,0,0,5,0,0,0,2,2,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,15,23,0,18,5,0,7,2,0,0,0,0,0,6,0,0,4,0,0,0,0,9,0,20,0,20,0],"y":[30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32],"hoverinfo":"x","type":"box","fillcolor":"rgba(86,180,233,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Contra Costa","legendgroup":"Contra Costa","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[2,6,6,11,13,3,2,13,14,9,0,14,5,9,11,10,7,1,8,5,7,10,0,9,16,9,1,2,11,8,2,0,3,2,4,0,8,15,10,9,12,11,4,8,11,10,7,8,2,8,8,15,8,6,12,11,9,9,7,0,22,3,3,8,0,0,0,0,0,5,5,0,5,14,9,12,12,0,0,6,4,0,7,16,0,14,0,20,0,0,12,16,14,35,5,0,0,0,22,0,0,0,4,5,0,3,21,6,12,0,0,5,0,0,8,12,0,14,2,8,0,1,0,7,8,0,5,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,8,0,0,0,0,5,0,0,3,14,1,8,1,0,4,0,5,0,0,0,1,0,0,0,0,0,0,0,0,0,2,1,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,6,12,14,14,0,13,12,4,10,7,16,7,8,6,16,10,8,0,9,6,6,4,9,7,4,6,7,6,4,4,13,2,3,0,0,14,0,14,3,6,8,5,11,13,15,9,6,0,0,6,12,6,10,4,0,11,12,10,8,5,6,8,6,6,0,14,8,0,10,0,12,3,0,13,18,6,3,7,6,6,6,6,0,14,12,3,4,11,0,5,6,0,7,7,0,4,7,9,7,10,0,1,4,0,0,0,3,0,23,0,10,1,0,2,0,6,0,25,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,12,0,1,0,0,0,0,0,0,1,0,0,0,2,25,0,10,0,14,3,0,1,19,0,0,21,0,1,0,0,0,0,0,1,0,0,0,3,0,0,0],"y":[25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23],"hoverinfo":"x","type":"box","fillcolor":"rgba(0,158,115,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Marin","legendgroup":"Marin","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,4,0,0,0,10,8,9,0,0,0,0,0,9,8,2,0,12,0,0,1,0,0,0,6,5,0,0,0,10,0,0,0,2,0,2,0,1,0,10,6,0,2,0,9,0,0,0,0,14,2,9,4,0,0,0,14,0,0,4,0,1,13,10,0,4,0,8,0,0,0,0,0,0,0,0,14,6,6,0,10,0,0],"y":[19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19],"hoverinfo":"x","type":"box","fillcolor":"rgba(240,228,66,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Napa","legendgroup":"Napa","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[4,50,44,95,64,52,28,60,45,42,68,123,78,30,155,75,44,64,71,30,80,88,24,80,48,92,30,24,46,145,24,78,35,66,46,62,42,75,93,183,153,54,26,30,66,199,58,42,60,59,62,76,50,38,44,38,0,22,10,10,2,72,4,0,10,12,24,16,0,6,6,18,24,102,8,46,106,100,0,60,32,6,38,108,6,106,6,34,54,108,112,43,6,104,29,43,6,86,114,55,51,59,116,51,90,27,36,50,45,2,14,16,10,8,11,15,5,6,11,0,0,16,0,6],"y":[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18],"hoverinfo":"x","type":"box","fillcolor":"rgba(0,114,178,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"San Francisco","legendgroup":"San Francisco","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[4,8,8,6,6,0,4,3,7,6,14,1,13,0,4,11,3,2,1,5,10,10,8,5,7,4,13,3,3,18,5,5,1,0,8,5,15,10,5,6,0,15,5,7,4,5,3,6,4,12,9,1,4,8,14,4,0,12,7,0,6,5,0,13,16,1,7,0,5,8,8,7,10,9,5,10,7,8,0,20,3,10,11,7,0,8,5,0,5,0,10,4,18,7,4,3,0,0,8,0,4,3,9,16,4,3,10,7,15,7,6,0,11,7,16,12,0,2,2,8,2,5,18,16,11,6,0,13,5,3,5,0,4,22,14,0,14,0,16,0,13,0,6,8,0,16,4,5,8,8,16,17,14,4,8,6,10,2,8,21,6,6,4,21,6,8,10,0,16,16,2,7,4,8,9,10,6,2,3,8,6,6,8,5,7,1,0,8,0,7,9,8,5,3,0,12,0,2,5,5,5,10,8,8,9,7,11,0,5,4,9,12,11,11,6,6,3,18,0,2,6,13,3,2,10,10,5,5,6,12,10,8,3,7,0,2,14,11],"y":[14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11],"hoverinfo":"x","type":"box","fillcolor":"rgba(213,94,0,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"San Mateo","legendgroup":"San Mateo","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,0,0,0,0,0,0,14,0,0,6,1,0,0,17,0,0,15,0,22,0,1,1,1,9,15,12,0,8,0,1,14,0,0,1,0,22,0,1,25,10,4,0,2,0,0,13,0,0,13,0,0,0,0,0,14,18,17,0,0,18,8,0,0,0,0,12,8,20,2,0,0,0,18,0,0,6,0,0,4,0,4,16,4,0,0,0,12,18,16,6,6,6,24,0,2,0,0,0,0],"y":[9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],"hoverinfo":"x","type":"box","fillcolor":"rgba(204,121,167,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Santa Clara","legendgroup":"Santa Clara","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,8,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,0,0,0,8,8,0,0,0,0,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,8,0,0,11,8,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,4,0,0,0,0,34,0,10,0,4,0,36,0,0,0,12,0,14,12,28,0,0,8,10,8,0,0,33,14,12,0,6,0,0,0,14,30,0,4,16,32,0,0,6,0,6,4,12,0,0,0,6,0,10,34,0,4,0,14,0,0,6,4,0,26,2,12,0,0,0,10,0,34,0,0,0,0,12,0,0,0,0,4,0,2,0,4,0,0,6,2,2,6,0,6,8,0,6,4,0,10,0,2,0,6,4,8,0,0,0,0,2,6,0,0,0,16,6,4,0,6,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"y":[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],"hoverinfo":"x","type":"box","fillcolor":"rgba(144,238,144,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Solano","legendgroup":"Solano","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,0,0,0,0,0,0,0,0,0,25,0,0,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,0,0,0,0,0,0,0,9,0,0,0,43,0,47,16,0,0,0,0,36,0,0,24,0,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,0,0,0,41,21,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Sonoma","legendgroup":"Sonoma","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":37.260273972602747,"l":160.00000000000003},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Public Transit Stops Near Bay Access Points by OLU","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-9.9500000000000011,208.94999999999999],"tickmode":"array","ticktext":["0","50","100","150","200"],"tickvals":[0,49.999999999999993,100,150,200],"categoryorder":"array","categoryarray":["0","50","100","150","200"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Number of nearby public transit stops","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,39.600000000000001],"tickmode":"array","ticktext":["Petaluma","Napa - Sonoma","Suisun Slough","Napa - Sonoma","Montezuma Slough","Carquinez North","Stevens","Santa Clara Valley","San Francisquito","Yosemite - Visitacion","San Mateo","San Francisquito","Colma - San Bruno","Belmont - Redwood","Yosemite - Visitacion","Mission - Islais","Golden Gate","East Bay Crescent","Napa - Sonoma","San Rafael","Richardson","Petaluma","Novato","Gallinas","Corte Madera","Winter - Brown's Island","Wildcat","Walnut","Point Richmond","Pinole","East Bay Crescent","Carquinez South","Bay Point","Santa Clara Valley","San Lorenzo","San Leandro","Mowry","East Bay Crescent","Alameda Creek"],"tickvals":[1,2,3.0000000000000004,4,5,6.0000000000000009,6.9999999999999991,7.9999999999999991,9,10,11,12.000000000000002,13,13.999999999999998,15,16,17,18,19,20,21,21.999999999999996,23,24,25,26,27,28,29,30,31.000000000000004,32,33,34,35,36,37,38,39],"categoryorder":"array","categoryarray":["Petaluma","Napa - Sonoma","Suisun Slough","Napa - Sonoma","Montezuma Slough","Carquinez North","Stevens","Santa Clara Valley","San Francisquito","Yosemite - Visitacion","San Mateo","San Francisquito","Colma - San Bruno","Belmont - Redwood","Yosemite - Visitacion","Mission - Islais","Golden Gate","East Bay Crescent","Napa - Sonoma","San Rafael","Richardson","Petaluma","Novato","Gallinas","Corte Madera","Winter - Brown's Island","Wildcat","Walnut","Point Richmond","Pinole","East Bay Crescent","Carquinez South","Bay Point","Santa Clara Valley","San Lorenzo","San Leandro","Mowry","East Bay Crescent","Alameda Creek"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Operational Landscape Unit (OLU)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"County","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"responsive":true},"source":"A","attrs":{"8ff770ff56f0":{"x":{},"y":{},"fill":{},"text":{},"type":"box"}},"cur_data":"8ff770ff56f0","visdat":{"8ff770ff56f0":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct plot for OLU subset transit dataframe</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>transit_access_plot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> transit_sub_olu,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> County_OLU, <span class="at">y =</span> Public_Transit_Stops,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> County_Name,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"County: "</span>, County_Name,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;br&gt;OLU: "</span>, OLU_Name</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    transit_access_config1</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(transit_access_plot2) <span class="sc">%&gt;%</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">config</span>(<span class="at">responsive =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">annotations =</span> <span class="fu">list</span>(</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.1</span>, <span class="at">xref =</span> <span class="st">"paper"</span>, <span class="at">yref =</span> <span class="st">"paper"</span>,</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">text =</span> <span class="st">"OLUs excluded: Mission-Islais, Golden Gate"</span>,</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">showarrow =</span> <span class="cn">FALSE</span>,</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">xanchor =</span> <span class="st">"left"</span>,</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">align =</span> <span class="st">"left"</span>,</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">50</span>, <span class="at">b =</span> <span class="dv">100</span>)</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-faefee05bb18ded3eb1c" style="width:100%;height:1083px;"></div>
<script type="application/json" data-for="htmlwidget-faefee05bb18ded3eb1c">{"x":{"data":[{"x":[24,6,12,10,6,16,17,1,17,32,13,14,44,4,16,3,8,9,0,13,8,16,0,0,0,23,7,28,13,4,2,8,0,4,0,4,0,0,22,42,6,0,0,0,37,7,1,2,10,0,2,7,4,13,17,3,0,5,0,39,12,28,2,18,6,3,2,10,13,12,21,4,48,8,2,2,32,1,0,2,0,2,13,22,0,20,12,2,4,0,20,12,0,30,0,0,12,1,13,5,9,38,0,13,14,9,10,16,10,4,11,10,1,7,0,1,19,14,18,6,17,25,5,5,11,8,12,6,0,7,6,31,10,10,3,2,19,9,0,0,5,1,0,13,0,21,8,14,19,27,10,8,11,24,0,16,11,20,11,4,3,43,3,18,0,8,20,8,6,0,29,13,16,0,11,2,8,21,9,12,21,12,0,0,11,0,48,8,4,6,50,6,7,19,0,0,0,2,7,0,1,29,5,14,7,5,4,7,0,14,2,6,2,6,6,9,0,12,0,7,2,4,3,5,0,5,12,0,1,0,39,12,1,2,35,5,5,0,2,0,0,18,0,3,2,5,0,1,1,10,8,5,9,1,0,0,2,2,1,9,6,0,8,2,0,2,2,0,1,0,12,12,4,0,0,0,0,0,10,0,10,3,0,7,0,8,0,0,0,0,5,5,0,0,0,15,7,3,0,5,4,0,13,2,0,0,6,8,0,0,6,4,9,0,0,2,4,4,11,0,0,2,0,3,4,14,2,2,0,0,12,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,19,0,0,13,1,2,0,0,9,0,18,0,0,7,2,1,2,5,0,2,3,0,7,0,3,1],"y":[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,32,32,32,32,32,32,32,32,32,32,32,32,32],"hoverinfo":"x","type":"box","fillcolor":"rgba(230,159,0,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Alameda","legendgroup":"Alameda","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,2,0,8,0,4,0,0,1,9,0,2,3,1,0,10,9,4,0,0,1,12,2,2,0,2,4,0,0,1,6,3,0,5,0,1,0,5,4,10,11,0,4,10,0,6,2,6,6,7,0,6,14,0,1,0,0,0,0,0,0,10,8,12,0,0,0,0,0,0,4,11,0,6,4,8,8,0,0,6,13,4,0,4,8,4,2,0,13,13,0,0,6,1,0,0,0,0,0,0,6,0,0,0,0,0,0,1,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,5,0,0,2,0,2,5,2,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,7,5,0,0,6,0,0,0,0,4,20,0,0,0,0,0,15,20,0,0,9,23,18,0,2,0,0,0,0],"y":[28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30],"hoverinfo":"x","type":"box","fillcolor":"rgba(86,180,233,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Contra Costa","legendgroup":"Contra Costa","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[8,2,0,11,4,15,5,8,13,10,16,9,3,0,9,8,12,9,10,2,6,8,0,15,13,9,0,10,1,7,2,9,7,6,14,9,8,3,9,5,14,1,2,2,2,4,10,7,11,12,8,8,11,11,11,8,11,0,6,7,14,3,12,0,5,22,12,9,0,5,35,14,0,0,0,20,0,7,8,5,0,4,4,0,16,5,14,0,12,0,21,0,12,3,5,16,0,6,14,0,0,6,0,0,0,22,0,0,12,0,3,0,5,0,8,0,0,0,0,0,8,8,1,0,0,0,0,0,1,1,8,14,1,4,0,0,0,0,0,5,2,0,1,5,0,0,0,0,8,7,0,0,0,0,0,0,1,2,0,1,2,0,3,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,5,3,7,0,0,6,3,4,7,14,10,6,12,7,8,0,9,8,3,13,8,6,6,6,11,6,7,0,12,8,4,6,13,7,10,0,7,9,6,12,14,4,6,6,13,0,0,11,11,7,5,6,0,14,4,6,6,12,10,14,7,0,0,8,10,6,9,16,10,4,6,6,6,15,12,6,0,2,18,0,12,14,0,7,0,6,4,9,14,4,5,4,16,3,3,0,13,8,0,0,4,0,25,0,0,1,0,12,0,0,23,25,0,0,0,10,0,3,2,1,0,19,0,0,0,6,0,0,0,0,0,0,0,0,3,10,0,1,0,0,1,1,0,0,0,0,21,0,0,0,0,0,0,3,14,0,0,0,1,0,0,0,0,0,0,0,0,0,1,20,0,2],"y":[23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21],"hoverinfo":"x","type":"box","fillcolor":"rgba(0,158,115,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Marin","legendgroup":"Marin","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,4,0,0,9,10,0,14,0,0,0,0,0,1,0,0,10,0,4,6,0,0,0,0,0,0,13,10,14,0,0,0,0,9,0,0,10,6,0,0,2,0,5,6,10,0,4,6,0,0,0,1,0,9,0,0,0,0,2,8,9,2,0,0,12,4,8,0,0,8,2,0,2,0,0,0,0,0,14,1,0,0,0],"y":[17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],"hoverinfo":"x","type":"box","fillcolor":"rgba(240,228,66,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Napa","legendgroup":"Napa","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[10,10,0,72,2,22,10,24,16,6,4,0,0,6,24,12,18,11,14,0,11,5,6,2,10,15,8,16,0,16,6,0],"y":[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],"hoverinfo":"x","type":"box","fillcolor":"rgba(0,114,178,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"San Francisco","legendgroup":"San Francisco","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[5,5,13,11,7,0,7,18,6,3,6,8,14,20,4,1,1,0,1,0,7,5,8,13,4,5,3,7,5,10,18,10,4,8,10,6,10,0,0,13,0,5,0,4,4,9,5,4,11,2,6,5,8,8,8,5,13,5,3,0,3,0,0,0,3,7,5,0,15,5,10,9,6,12,15,14,18,2,8,8,10,4,10,3,9,0,7,1,7,2,5,16,5,3,6,16,15,16,3,4,8,10,5,7,6,4,8,16,0,0,3,1,0,5,11,0,4,4,7,7,12,7,2,11,3,12,8,7,4,6,0,22,0,16,8,13,0,0,0,14,0,4,6,0,14,16,16,10,21,4,0,9,8,2,10,8,4,8,7,8,4,4,8,21,16,6,5,6,8,17,2,6,6,14,16,8,5,6,3,0,0,9,6,6,3,8,7,2,8,8,7,0,1,10,5,9,5,6,11,8,9,3,13,12,11,7,3,2,2,12,0,4,7,6,18,12,14,10,8,0,0,8,3,10,5,5,5,10,11,10,2,2,6,6,5,0,5,11],"y":[14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11],"hoverinfo":"x","type":"box","fillcolor":"rgba(213,94,0,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"San Mateo","legendgroup":"San Mateo","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,0,0,0,0,0,0,13,0,12,1,0,1,0,1,1,8,0,22,0,17,13,0,0,0,2,4,0,14,0,0,15,0,0,14,15,10,1,0,0,0,25,0,0,9,0,0,0,22,1,0,1,6,0,16,0,20,16,18,12,0,0,0,0,17,0,8,2,18,0,0,18,0,6,2,12,0,0,0,0,0,0,0,0,0,24,6,0,6,0,0,18,6,4,8,14,4,0,0,4],"y":[9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],"hoverinfo":"x","type":"box","fillcolor":"rgba(204,121,167,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Santa Clara","legendgroup":"Santa Clara","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,0,8,0,0,1,0,0,0,0,0,0,0,0,2,11,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,4,8,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,9,0,0,0,10,0,36,14,0,12,0,10,0,4,0,0,0,0,33,34,4,0,0,8,0,0,4,0,0,4,30,0,0,6,0,0,0,32,6,0,6,6,0,4,0,0,0,34,0,2,0,12,6,26,10,8,14,0,14,12,4,0,28,12,0,0,0,0,0,0,34,10,0,0,12,14,12,0,0,16,0,0,0,0,0,4,6,4,4,0,10,0,0,0,6,8,2,0,6,16,0,0,4,6,0,0,2,0,0,4,0,2,0,6,4,0,0,8,2,6,2,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"y":[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],"hoverinfo":"x","type":"box","fillcolor":"rgba(144,238,144,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Solano","legendgroup":"Solano","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,0,0,41,0,0,0,0,0,0,0,0,0,0,0,0,24,16,0,13,0,0,0,0,9,0,0,0,0,0,0,0,25,0,0,0,21,47,0,0,0,0,0,0,0,0,0,0,0,0,24,0,0,41,0,0,36,0,0,0,0,0,0,0,0,0,0,0,48,0,0,43,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Sonoma","legendgroup":"Sonoma","showlegend":true,"xaxis":"x","yaxis":"y","orientation":"h","frame":null}],"layout":{"margin":{"t":50,"r":7.3059360730593621,"b":100,"l":160.00000000000003},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Public Transit Stops Near Bay Access Points by OLU","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.6000000000000001,75.599999999999994],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20.000000000000004,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Number of nearby public transit stops","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,37.600000000000001],"tickmode":"array","ticktext":["Petaluma","Napa - Sonoma","Suisun Slough","Napa - Sonoma","Montezuma Slough","Carquinez North","Stevens","Santa Clara Valley","San Francisquito","Yosemite - Visitacion","San Mateo","San Francisquito","Colma - San Bruno","Belmont - Redwood","Yosemite - Visitacion","East Bay Crescent","Napa - Sonoma","San Rafael","Richardson","Petaluma","Novato","Gallinas","Corte Madera","Winter - Brown's Island","Wildcat","Walnut","Point Richmond","Pinole","East Bay Crescent","Carquinez South","Bay Point","Santa Clara Valley","San Lorenzo","San Leandro","Mowry","East Bay Crescent","Alameda Creek"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15.000000000000002,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32.000000000000007,33,34,35,36,37],"categoryorder":"array","categoryarray":["Petaluma","Napa - Sonoma","Suisun Slough","Napa - Sonoma","Montezuma Slough","Carquinez North","Stevens","Santa Clara Valley","San Francisquito","Yosemite - Visitacion","San Mateo","San Francisquito","Colma - San Bruno","Belmont - Redwood","Yosemite - Visitacion","East Bay Crescent","Napa - Sonoma","San Rafael","Richardson","Petaluma","Novato","Gallinas","Corte Madera","Winter - Brown's Island","Wildcat","Walnut","Point Richmond","Pinole","East Bay Crescent","Carquinez South","Bay Point","Santa Clara Valley","San Lorenzo","San Leandro","Mowry","East Bay Crescent","Alameda Creek"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Operational Landscape Unit (OLU)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"County","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative","annotations":[{"x":0,"y":-0.10000000000000001,"xref":"paper","yref":"paper","text":"OLUs excluded: Mission-Islais, Golden Gate","showarrow":false,"xanchor":"left","align":"left","font":{"size":14}}]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"responsive":true},"source":"A","attrs":{"8ff78f33fcf":{"x":{},"y":{},"fill":{},"text":{},"type":"box"}},"cur_data":"8ff78f33fcf","visdat":{"8ff78f33fcf":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct reusable plot config</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>transit_access_config2 <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>(),</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">sub</span>(<span class="st">"^.*</span><span class="sc">\\</span><span class="st">s:</span><span class="sc">\\</span><span class="st">s"</span>, <span class="st">""</span>, x)),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Public Transit Stops Near Bay Access Points by OLU and County"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Number of nearby public transit stops"</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct plot for OLU subset transit dataframe</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>transit_access_plot3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(transit_sub_olu, <span class="fu">aes</span>(<span class="at">x =</span> OLU_Name, <span class="at">y =</span> Public_Transit_Stops)) <span class="sc">+</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"#B0E2FF"</span>) <span class="sc">+</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> County_Name, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    transit_access_config2 <span class="sc">+</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="dv">9</span>, <span class="st">"lines"</span>),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">20</span>)  <span class="co"># top, right, bottom, left</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(transit_access_plot3) <span class="sc">%&gt;%</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">config</span>(<span class="at">responsive =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">annotations =</span> <span class="fu">list</span>(</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.11</span>, <span class="at">xref =</span> <span class="st">"paper"</span>, <span class="at">yref =</span> <span class="st">"paper"</span>,</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">text =</span> <span class="st">"OLUs excluded: Mission-Islais, Golden Gate"</span>,</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>            <span class="at">showarrow =</span> <span class="cn">FALSE</span>,</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">xanchor =</span> <span class="st">"left"</span>,</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">align =</span> <span class="st">"left"</span>,</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>            <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">90</span>, <span class="at">b =</span> <span class="dv">90</span>)</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-893f22209cc20b0419e8" style="width:100%;height:812px;"></div>
<script type="application/json" data-for="htmlwidget-893f22209cc20b0419e8">{"x":{"data":[{"x":[24,6,12,10,6,16,17,1,17,32,13,14,44,4,16,3,8,9,0,13,8,16,0,0,0,23,7,28,13,4,2,8,0,4,0,4,0,0,22,42,6,0,0,0,37,7,1,2,10,0,2,7,4,13,17,3,0,5,0,39,12,28,2,18,6,3,2,10,13,12,21,4,48,8,2,2,32,1,0,2,0,2,13,22,0,20,12,2,4,0,20,12,0,30,0,0,12,1,13,5,9,38,0,13,14,9,10,16,10,4,11,10,1,7,0,1,19,14,18,6,17,25,5,5,11,8,12,6,0,7,6,31,10,10,3,2,19,9,0,0,5,1,0,13,0,21,8,14,19,27,10,8,11,24,0,16,11,20,11,4,3,43,3,18,0,8,20,8,6,0,29,13,16,0,11,2,8,21,9,12,21,12,0,0,11,0,48,8,4,6,50,6,7,19,0,0,0,2,7,0,1,29,5,14,7,5,4,7,0,14,2,6,2,6,6,9,0,12,0,7,2,4,3,5,0,5,12,0,1,0,39,12,1,2,35,5,5,0,2,0,0,18,0,3,2,5,0,1,1,10,8,5,9,1,0,0,2,2,1,9,6,0,8,2,0,2,2,0,1,0,12,12,4,0,0,0,0,0,10,0,10,3,0,7,0,8,0,0,0,0,5,5,0,0,0,15,7,3,0,5,4,0,13,2,0,0,6,8,0,0,6,4,9,0,0,2,4,4,11,0,0,2,0,3,4,14,2,2,0,0,12,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,19,0,0,13,1,2,0,0,9,0,18,0,0,7,2,1,2,5,0,2,3,0,7,0,3,1],"y":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,6,6,6,6,6,6,6,6,6,6,6,6,6],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,2,0,8,0,4,0,0,1,9,0,2,3,1,0,10,9,4,0,0,1,12,2,2,0,2,4,0,0,1,6,3,0,5,0,1,0,5,4,10,11,0,4,10,0,6,2,6,6,7,0,6,14,0,1,0,0,0,0,0,0,10,8,12,0,0,0,0,0,0,4,11,0,6,4,8,8,0,0,6,13,4,0,4,8,4,2,0,13,13,0,0,6,1,0,0,0,0,0,0,6,0,0,0,0,0,0,1,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,5,0,0,2,0,2,5,2,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,7,5,0,0,6,0,0,0,0,4,20,0,0,0,0,0,15,20,0,0,9,23,18,0,2,0,0,0,0],"y":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x2","yaxis":"y2","orientation":"h","frame":null},{"x":[8,2,0,11,4,15,5,8,13,10,16,9,3,0,9,8,12,9,10,2,6,8,0,15,13,9,0,10,1,7,2,9,7,6,14,9,8,3,9,5,14,1,2,2,2,4,10,7,11,12,8,8,11,11,11,8,11,0,6,7,14,3,12,0,5,22,12,9,0,5,35,14,0,0,0,20,0,7,8,5,0,4,4,0,16,5,14,0,12,0,21,0,12,3,5,16,0,6,14,0,0,6,0,0,0,22,0,0,12,0,3,0,5,0,8,0,0,0,0,0,8,8,1,0,0,0,0,0,1,1,8,14,1,4,0,0,0,0,0,5,2,0,1,5,0,0,0,0,8,7,0,0,0,0,0,0,1,2,0,1,2,0,3,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,5,3,7,0,0,6,3,4,7,14,10,6,12,7,8,0,9,8,3,13,8,6,6,6,11,6,7,0,12,8,4,6,13,7,10,0,7,9,6,12,14,4,6,6,13,0,0,11,11,7,5,6,0,14,4,6,6,12,10,14,7,0,0,8,10,6,9,16,10,4,6,6,6,15,12,6,0,2,18,0,12,14,0,7,0,6,4,9,14,4,5,4,16,3,3,0,13,8,0,0,4,0,25,0,0,1,0,12,0,0,23,25,0,0,0,10,0,3,2,1,0,19,0,0,0,6,0,0,0,0,0,0,0,0,3,10,0,1,0,0,1,1,0,0,0,0,21,0,0,0,0,0,0,3,14,0,0,0,1,0,0,0,0,0,0,0,0,0,1,20,0,2],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x3","yaxis":"y3","orientation":"h","frame":null},{"x":[0,4,0,0,9,10,0,14,0,0,0,0,0,1,0,0,10,0,4,6,0,0,0,0,0,0,13,10,14,0,0,0,0,9,0,0,10,6,0,0,2,0,5,6,10,0,4,6,0,0,0,1,0,9,0,0,0,0,2,8,9,2,0,0,12,4,8,0,0,8,2,0,2,0,0,0,0,0,14,1,0,0,0],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y4","orientation":"h","frame":null},{"x":[10,10,0,72,2,22,10,24,16,6,4,0,0,6,24,12,18,11,14,0,11,5,6,2,10,15,8,16,0,16,6,0],"y":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x2","yaxis":"y5","orientation":"h","frame":null},{"x":[5,5,13,11,7,0,7,18,6,3,6,8,14,20,4,1,1,0,1,0,7,5,8,13,4,5,3,7,5,10,18,10,4,8,10,6,10,0,0,13,0,5,0,4,4,9,5,4,11,2,6,5,8,8,8,5,13,5,3,0,3,0,0,0,3,7,5,0,15,5,10,9,6,12,15,14,18,2,8,8,10,4,10,3,9,0,7,1,7,2,5,16,5,3,6,16,15,16,3,4,8,10,5,7,6,4,8,16,0,0,3,1,0,5,11,0,4,4,7,7,12,7,2,11,3,12,8,7,4,6,0,22,0,16,8,13,0,0,0,14,0,4,6,0,14,16,16,10,21,4,0,9,8,2,10,8,4,8,7,8,4,4,8,21,16,6,5,6,8,17,2,6,6,14,16,8,5,6,3,0,0,9,6,6,3,8,7,2,8,8,7,0,1,10,5,9,5,6,11,8,9,3,13,12,11,7,3,2,2,12,0,4,7,6,18,12,14,10,8,0,0,8,3,10,5,5,5,10,11,10,2,2,6,6,5,0,5,11],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x3","yaxis":"y6","orientation":"h","frame":null},{"x":[0,0,0,0,0,0,0,13,0,12,1,0,1,0,1,1,8,0,22,0,17,13,0,0,0,2,4,0,14,0,0,15,0,0,14,15,10,1,0,0,0,25,0,0,9,0,0,0,22,1,0,1,6,0,16,0,20,16,18,12,0,0,0,0,17,0,8,2,18,0,0,18,0,6,2,12,0,0,0,0,0,0,0,0,0,24,6,0,6,0,0,18,6,4,8,14,4,0,0,4],"y":[1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y7","orientation":"h","frame":null},{"x":[0,0,8,0,0,1,0,0,0,0,0,0,0,0,2,11,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,4,8,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,9,0,0,0,10,0,36,14,0,12,0,10,0,4,0,0,0,0,33,34,4,0,0,8,0,0,4,0,0,4,30,0,0,6,0,0,0,32,6,0,6,6,0,4,0,0,0,34,0,2,0,12,6,26,10,8,14,0,14,12,4,0,28,12,0,0,0,0,0,0,34,10,0,0,12,14,12,0,0,16,0,0,0,0,0,4,6,4,4,0,10,0,0,0,6,8,2,0,6,16,0,0,4,6,0,0,2,0,0,4,0,2,0,6,4,0,0,8,2,6,2,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"y":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x2","yaxis":"y8","orientation":"h","frame":null},{"x":[0,0,0,41,0,0,0,0,0,0,0,0,0,0,0,0,24,16,0,13,0,0,0,0,9,0,0,0,0,0,0,0,25,0,0,0,21,47,0,0,0,0,0,0,0,0,0,0,0,0,24,0,0,41,0,0,36,0,0,0,0,0,0,0,0,0,0,0,48,0,0,43,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"y":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x3","yaxis":"y9","orientation":"h","frame":null}],"layout":{"margin":{"t":90,"r":26.567040265670411,"b":90,"l":135.4254877542549},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Public Transit Stops Near Bay Access Points by OLU and County","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.25315276048152757],"automargin":true,"type":"linear","autorange":false,"range":[-3.6000000000000001,75.599999999999994],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20.000000000000004,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y7","title":"","hoverformat":".2f"},"annotations":[{"text":"Number of nearby public transit stops","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178081},{"text":"Alameda","x":0.12657638024076379,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Contra Costa","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Marin","x":0.87342361975923621,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Napa","x":0.12657638024076379,"y":0.62823135464231361,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"San Francisco","x":0.5,"y":0.62823135464231361,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"San Mateo","x":0.87342361975923621,"y":0.62823135464231361,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Santa Clara","x":0.12657638024076379,"y":0.29489802130898024,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Solano","x":0.5,"y":0.29489802130898024,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Sonoma","x":0.87342361975923621,"y":0.29489802130898024,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"x":0,"y":-0.11,"xref":"paper","yref":"paper","text":"OLUs excluded: Mission-Islais, Golden Gate","showarrow":false,"xanchor":"left","align":"left","font":{"size":14}}],"yaxis":{"domain":[0.70510197869101987,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Alameda Creek","East Bay Crescent","Mowry","San Leandro","San Lorenzo","Santa Clara Valley"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Alameda Creek","East Bay Crescent","Mowry","San Leandro","San Lorenzo","Santa Clara Valley"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.25315276048152757,"y0":0.70510197869101987,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.25315276048152757,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.41351390618513906,"x1":0.58648609381486094,"y0":0.70510197869101987,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.41351390618513906,"x1":0.58648609381486094,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.74684723951847232,"x1":1,"y0":0.70510197869101987,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.74684723951847232,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.25315276048152757,"y0":0.3717686453576865,"y1":0.62823135464231361},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.25315276048152757,"y0":0,"y1":23.37899543378996,"yanchor":0.62823135464231361,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.41351390618513906,"x1":0.58648609381486094,"y0":0.3717686453576865,"y1":0.62823135464231361},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.41351390618513906,"x1":0.58648609381486094,"y0":0,"y1":23.37899543378996,"yanchor":0.62823135464231361,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.74684723951847232,"x1":1,"y0":0.3717686453576865,"y1":0.62823135464231361},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.74684723951847232,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.62823135464231361,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.25315276048152757,"y0":0,"y1":0.29489802130898024},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.25315276048152757,"y0":0,"y1":23.37899543378996,"yanchor":0.29489802130898024,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.41351390618513906,"x1":0.58648609381486094,"y0":0,"y1":0.29489802130898024},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.41351390618513906,"x1":0.58648609381486094,"y0":0,"y1":23.37899543378996,"yanchor":0.29489802130898024,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.74684723951847232,"x1":1,"y0":0,"y1":0.29489802130898024},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.74684723951847232,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.29489802130898024,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[-3.6000000000000001,75.599999999999994],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20.000000000000004,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.41351390618513906,0.58648609381486094],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y8","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,8.5999999999999996],"tickmode":"array","ticktext":["Bay Point","Carquinez South","East Bay Crescent","Pinole","Point Richmond","Walnut","Wildcat","Winter - Brown's Island"],"tickvals":[1,2,3,4,5,6,7,8],"categoryorder":"array","categoryarray":["Bay Point","Carquinez South","East Bay Crescent","Pinole","Point Richmond","Walnut","Wildcat","Winter - Brown's Island"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.70510197869101987,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[-3.6000000000000001,75.599999999999994],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20.000000000000004,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.74684723951847232,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y9","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Corte Madera","Gallinas","Novato","Petaluma","Richardson","San Rafael"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Corte Madera","Gallinas","Novato","Petaluma","Richardson","San Rafael"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.70510197869101987,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x3","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[0.40000000000000002,1.6000000000000001],"tickmode":"array","ticktext":["Napa - Sonoma"],"tickvals":[1],"categoryorder":"array","categoryarray":["Napa - Sonoma"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.3717686453576865,0.62823135464231361],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["East Bay Crescent","Yosemite - Visitacion"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["East Bay Crescent","Yosemite - Visitacion"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.3717686453576865,0.62823135464231361],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"yaxis6":{"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["Belmont - Redwood","Colma - San Bruno","San Francisquito","San Mateo","Yosemite - Visitacion"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["Belmont - Redwood","Colma - San Bruno","San Francisquito","San Mateo","Yosemite - Visitacion"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.3717686453576865,0.62823135464231361],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x3","title":"","hoverformat":".2f"},"yaxis7":{"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["San Francisquito","Santa Clara Valley","Stevens"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["San Francisquito","Santa Clara Valley","Stevens"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.29489802130898024],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis8":{"type":"linear","autorange":false,"range":[0.40000000000000002,4.5999999999999996],"tickmode":"array","ticktext":["Carquinez North","Montezuma Slough","Napa - Sonoma","Suisun Slough"],"tickvals":[1,2,3,4],"categoryorder":"array","categoryarray":["Carquinez North","Montezuma Slough","Napa - Sonoma","Suisun Slough"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.29489802130898024],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"yaxis9":{"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Napa - Sonoma","Petaluma"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Napa - Sonoma","Petaluma"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.29489802130898024],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x3","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"responsive":true},"source":"A","attrs":{"8ff7258713f7":{"x":{},"y":{},"type":"box"}},"cur_data":"8ff7258713f7","visdat":{"8ff7258713f7":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct plot for county subset transit dataframe</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>transit_access_plot4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(transit_sub_county, <span class="fu">aes</span>(<span class="at">x =</span> OLU_Name, <span class="at">y =</span> Public_Transit_Stops)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"#B0E2FF"</span>) <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> County_Name, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    transit_access_config2 <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="dv">15</span>, <span class="st">"lines"</span>),</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">20</span>)  <span class="co"># top, right, bottom, left</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(transit_access_plot4) <span class="sc">%&gt;%</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">config</span>(<span class="at">responsive =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">annotations =</span> <span class="fu">list</span>(</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.15</span>, <span class="at">xref =</span> <span class="st">"paper"</span>, <span class="at">yref =</span> <span class="st">"paper"</span>,</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">text =</span> <span class="st">"Select counties only: Alameda, Contra Costa, Marin, San Mateo"</span>,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">showarrow =</span> <span class="cn">FALSE</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">xanchor =</span> <span class="st">"left"</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">align =</span> <span class="st">"left"</span>,</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">90</span>, <span class="at">b =</span> <span class="dv">90</span>)</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a7d9ff6b9f47a8732b04" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-a7d9ff6b9f47a8732b04">{"x":{"data":[{"x":[16,19,13,3,0,6,12,39,0,4,0,0,12,22,0,6,13,16,9,21,0,20,6,20,0,0,6,8,0,30,10,1,2,28,0,44,7,20,13,9,50,0,10,2,3,6,1,9,13,18,4,6,0,18,4,20,8,6,2,12,11,31,0,17,16,0,7,21,8,4,0,4,0,12,8,7,13,19,3,8,22,14,2,13,1,0,17,14,13,43,0,24,16,27,3,19,8,0,6,13,3,1,5,0,0,19,12,12,14,5,0,10,29,24,4,6,48,2,5,7,12,18,2,0,0,5,42,0,11,8,7,2,28,13,0,8,2,8,12,10,11,23,0,2,3,5,6,7,4,25,17,4,11,1,17,0,37,0,10,32,13,14,11,1,21,0,1,4,21,38,16,8,2,8,10,32,16,48,10,11,11,0,0,10,0,2,0,9,9,0,12,10,4,2,0,5,5,2,14,0,3,1,5,18,0,3,4,0,4,2,0,0,14,5,7,12,6,0,0,5,5,2,0,12,6,0,0,2,39,6,12,0,5,0,1,2,7,7,7,35,0,1,29,2,2,9,2,0,10,0,5,4,9,1,1,0,12,12,1,10,2,0,0,0,1,10,6,0,9,2,2,0,0,2,8,1,0,8,0,0,0,3,8,4,0,5,11,13,0,0,0,4,6,15,0,0,0,0,2,0,2,5,0,4,0,5,0,0,4,3,0,0,7,0,6,7,9,0,0,8,0,0,0,13,0,0,3,0,14,0,0,0,0,12,0,0,18,0,11,19,0,0,4,0,9,1,2,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,15,0,0,0,0,0,1,2,2,7,3,3,0,2,1,7,5],"y":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,6,6,6,6,6,6,6,6,6,6,6,6,6],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","orientation":"h","frame":null},{"x":[0,2,0,12,9,0,9,0,0,1,2,1,0,0,1,2,3,5,0,4,3,4,4,1,0,2,0,0,8,0,0,5,0,2,10,0,1,6,4,11,14,2,7,1,0,10,12,0,0,4,0,4,6,0,4,0,13,0,0,4,0,11,0,6,6,0,0,10,0,0,0,6,10,8,0,8,0,6,2,6,8,8,4,0,0,4,0,13,0,13,0,6,0,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,5,0,0,5,2,0,2,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,15,0,18,20,0,23,0,4,20,0,0,0,6,0,0,2,0,0,5,7,0,0,0,0],"y":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x2","yaxis":"y2","orientation":"h","frame":null},{"x":[12,15,0,9,8,8,11,6,8,2,9,0,0,8,2,7,9,10,5,2,11,5,3,10,16,6,1,12,9,13,11,8,9,0,9,4,7,11,7,14,1,10,8,2,15,2,10,6,11,8,9,7,13,14,11,3,0,8,2,4,0,0,5,14,5,14,0,12,0,3,16,0,7,0,0,12,21,0,0,12,0,4,0,0,0,22,0,6,14,3,16,0,0,12,5,22,0,0,0,0,20,8,35,4,3,12,0,5,14,9,5,8,5,0,0,0,0,6,0,0,8,0,5,3,2,0,0,0,1,0,1,0,0,0,0,0,5,0,0,0,5,1,0,8,0,1,8,0,2,1,2,0,0,0,0,0,0,0,0,1,4,0,0,0,0,0,0,7,0,0,8,1,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,13,12,9,0,6,0,4,7,5,3,13,9,18,0,0,0,13,6,4,6,6,4,0,3,8,15,6,6,0,0,3,6,0,8,6,16,6,11,6,7,6,7,0,10,6,14,14,0,7,6,8,13,12,0,12,14,10,10,0,6,7,8,0,6,12,10,16,7,14,5,10,6,4,3,4,7,9,14,11,4,8,0,12,4,2,5,7,9,6,11,7,12,0,4,6,10,6,3,14,8,0,0,1,0,20,10,0,0,21,0,0,1,3,0,0,23,19,0,0,1,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,2,0,0,1,4,25,0,1,0,0,25,0,0,0,0,0,0,0,12,3,6,0,0,14,3,0,0,0,0,10,0,0,0,1,0,0,0,0],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y3","orientation":"h","frame":null},{"x":[15,5,5,8,9,7,10,4,16,8,6,5,2,8,14,16,0,1,16,0,5,4,8,2,8,13,18,4,7,3,16,4,5,5,13,4,3,11,14,10,0,10,6,7,11,0,18,10,0,5,0,4,10,0,7,0,15,11,4,6,5,3,8,7,5,5,0,7,6,6,3,12,10,3,0,7,9,0,2,0,4,8,5,8,1,7,7,13,0,3,12,5,0,6,5,1,3,10,11,7,7,0,8,18,4,3,1,6,0,8,9,5,2,1,13,6,8,7,0,12,0,10,5,3,15,4,3,20,4,5,4,0,0,22,0,14,8,6,13,0,16,0,16,14,4,0,5,8,2,7,10,6,8,21,21,6,4,16,16,8,8,8,0,14,6,8,6,16,4,2,4,10,4,9,17,7,2,8,8,0,8,6,6,10,1,0,5,3,9,8,3,6,7,0,5,0,0,5,3,2,12,7,4,10,11,3,5,11,8,9,6,18,3,6,10,6,10,8,12,0,11,2,0,5,6,10,2,5,14,2,5,5,13,9,12,11,8,7],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],"hoverinfo":"x","type":"box","fillcolor":"rgba(176,226,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x2","yaxis":"y4","orientation":"h","frame":null}],"layout":{"margin":{"t":90,"r":26.567040265670396,"b":90,"l":135.4254877542549},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Public Transit Stops Near Bay Access Points by OLU and County","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.41185554171855543],"automargin":true,"type":"linear","autorange":false,"range":[-2.5,52.5],"tickmode":"array","ticktext":["0","10","20","30","40","50"],"tickvals":[0,10,20,30,40,50],"categoryorder":"array","categoryarray":["0","10","20","30","40","50"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"annotations":[{"text":"Number of nearby public transit stops","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178081},{"text":"Alameda","x":0.20592777085927771,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Contra Costa","x":0.79407222914072229,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Marin","x":0.20592777085927771,"y":0.4375646879756469,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"San Mateo","x":0.79407222914072229,"y":0.4375646879756469,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"x":0,"y":-0.14999999999999999,"xref":"paper","yref":"paper","text":"Select counties only: Alameda, Contra Costa, Marin, San Mateo","showarrow":false,"xanchor":"left","align":"left","font":{"size":14}}],"yaxis":{"domain":[0.56243531202435315,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Alameda Creek","East Bay Crescent","Mowry","San Leandro","San Lorenzo","Santa Clara Valley"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Alameda Creek","East Bay Crescent","Mowry","San Leandro","San Lorenzo","Santa Clara Valley"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.41185554171855543,"y0":0.56243531202435315,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.41185554171855543,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.58814445828144457,"x1":1,"y0":0.56243531202435315,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.58814445828144457,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.41185554171855543,"y0":0,"y1":0.4375646879756469},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.41185554171855543,"y0":0,"y1":23.37899543378996,"yanchor":0.4375646879756469,"ysizemode":"pixel"},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.58814445828144457,"x1":1,"y0":0,"y1":0.4375646879756469},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0.58814445828144457,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.4375646879756469,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[-2.5,52.5],"tickmode":"array","ticktext":["0","10","20","30","40","50"],"tickvals":[0,10,20,30,40,50],"categoryorder":"array","categoryarray":["0","10","20","30","40","50"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.58814445828144457,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y4","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,8.5999999999999996],"tickmode":"array","ticktext":["Bay Point","Carquinez South","East Bay Crescent","Pinole","Point Richmond","Walnut","Wildcat","Winter - Brown's Island"],"tickvals":[1,2,3,4,5,6,7,8],"categoryorder":"array","categoryarray":["Bay Point","Carquinez South","East Bay Crescent","Pinole","Point Richmond","Walnut","Wildcat","Winter - Brown's Island"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.56243531202435315,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Corte Madera","Gallinas","Novato","Petaluma","Richardson","San Rafael"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Corte Madera","Gallinas","Novato","Petaluma","Richardson","San Rafael"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.4375646879756469],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["Belmont - Redwood","Colma - San Bruno","San Francisquito","San Mateo","Yosemite - Visitacion"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["Belmont - Redwood","Colma - San Bruno","San Francisquito","San Mateo","Yosemite - Visitacion"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.4375646879756469],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"responsive":true},"source":"A","attrs":{"8ff720230a8c":{"x":{},"y":{},"type":"box"}},"cur_data":"8ff720230a8c","visdat":{"8ff720230a8c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>